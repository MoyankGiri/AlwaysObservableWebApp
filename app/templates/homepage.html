<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
          <a class="navbar-brand" href="/home">Home</a>
        <a class="navbar-brand" href="/readBlogs">Read More</a>
        <a class="navbar-brand" href="/createBlog">Create Blog</a>
        <a class="navbar-brand" href="/logout">Logout</a>
      </div>
  </nav>

  <div class="jumbotron">
    <h1 class="display-4">Hello!</h1>
    <p class="lead">This is a simple blogging application</p>
    <hr class="my-4">
    <p>You can create or edit a blog and publish it!</p>
  </div>

  {%if items|length >=1%}
    {%for item in items%}
      <div class="card text-center">
        <div class="card-header">
          {{item.author}}
        </div>
        <div class="card-body" id="{{item.id}}">
          <h5 class="card-title">{{item.title}}</h5>
          <button id="del" type="button" class="btn btn-primary">Delete</button>
          <button id="edit" type="button" class="btn btn-primary">Edit</button>
        </div>
        <div class="card-footer text-muted">
          {{item.creationDate}}
        </div>
      </div>
    {%endfor%}
  {%endif%}

</body>
<script>
  $("#del").click(function(event){
        alert(event.target.parentElement.id);
        //bid->blog id
        var bid = event.target.parentElement.id;
        window.location = "{{url_for('deleteBlog')}}"+`?blogid=${bid}`;
    })

  $("#edit").click(function(event){
      var blogid = event.target.parentElement.id;
      alert(blogid)
      window.location = "{{url_for('editBlog')}}"+`?blogid=${blogid}`;
  })
</script>

</html>